<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="shortcut icon" type="image/png" href="../../luga-favicon.png"/>
	<title>Luga Data :: DetailSet :: Master-details</title>

	<!-- Libs -->
	<script src="../../../lib/jquery/jquery.min.js"></script>
	<script src="../../../lib/handlebars.min.js"></script>
	<link rel="stylesheet" href="../../../lib/bootstrap/css/bootstrap.min.css"/>
	<script src="../../../lib/bootstrap/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="../../../lib/prism/prism.css"/>
	<script src="../../../lib/prism/prism.js"></script>

	<!-- Luga JS -->
	<link rel="stylesheet" href="../../../src/luga.css"/>
	<script src="../../../dist/luga.min.js"></script>
	<script src="../../../dist/luga.data.min.js"></script>

	<!-- Docs -->
	<link rel="stylesheet" href="../../luga.docs.css"/>
	<script src="../../luga-docs.js"></script>

	<script>
		(function(){
			"use strict";
			var ladiesMaster = new luga.data.JsonDataSet({
				uuid: "ladies",
				url: "../../../test/fixtures/data/ladies.json"
			});
			var ladyDetails = new luga.data.DetailSet({uuid: "lady", dataSet: ladiesMaster});
			jQuery(document).ready(function(){
				ladiesMaster.loadData();
			});
		}());
	</script>

	<script id="masterTemplate" type="text/x-handlebars-template">
		<ul class="luga-docs-list">
			{{#each entities}}
				<li><a href="#" data-lugads-setrowid="{{lugaRowId}}">{{lastName}}</a></li>
			{{/each}}
		</ul>
	</script>
	<script id="detailsTemplate" type="text/x-handlebars-template">
		<ul class="luga-docs-list">
			{{#entity}}
				<li>Firstname: {{firstName}}</li>
				<li>Lastname: {{lastName}}</li>
				<li>Country: {{country}}</li>
			{{/entity}}
		</ul>
	</script>

</head>

<body class="luga-docs">

<div data-lugacsi="../../luga-docs-nav-main.inc" data-lugacsi-after="luga.docs.initMainNav"></div>

<div class="container-fluid">
	<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">

		<div class="panel panel-default">
			<div class="panel-heading">Master-details</div>
			<div class="panel-body">
				<p>TODO: write explanation</p>



<pre><code class="line-numbers language-javascript">(function(){
	"use strict";
	// Master
	var ladiesMaster = new luga.data.JsonDataSet({
		uuid: "ladies",
		url: "../../../test/fixtures/data/ladies.json"
	});
	// Details
	var ladyDetails = new luga.data.DetailSet({uuid: "lady", dataSet: ladiesMaster});
	jQuery(document).ready(function(){
		ladiesMaster.loadData();
	});
}());
</code></pre>

			</div>
		</div>

		<div class="panel panel-default">
			<div class="panel-heading">Master</div>
			<div class="panel-body">
				<div data-lugads-region="masterRegion"
					 data-lugads-datasource-uuid="ladies"
					 data-lugads-template-id="masterTemplate"></div>
			</div>
		</div>

		<div class="panel panel-default">
			<div class="panel-heading">Details</div>

			<div class="panel-body">
				<div data-lugads-region="detailsRegion"
					 data-lugads-datasource-uuid="lady"
					 data-lugads-template-id="detailsTemplate"></div>

				<p>
					The code for the detail region is pretty much straightforward, just keep in mind that you are dealing with a single entity here, not a collection of entities.
					Your template should reflect this:
				</p>
				
<pre><code class="line-numbers language-markup">&lt;script id="detailsTemplate" type="text/x-handlebars-template"&gt;
	&lt;ul&gt;
		{{#entity}}
			&lt;li&gt;Firstname: {{firstName}}&lt;/li&gt;
			&lt;li&gt;Lastname: {{lastName}}&lt;/li&gt;
			&lt;li&gt;Country: {{country}}&lt;/li&gt;
		{{/entity}}
	&lt;/ul&gt;
&lt;/script&gt;

&lt;div data-lugads-region="detailsRegion"
	 data-lugads-datasource-uuid="lady"
	 data-lugads-template-id="detailsTemplate"&gt;&lt;/div&gt;	
</code></pre>

			</div>

		</div>

	</div>


	<div data-lugacsi="../nav-local.inc"></div>

	<div data-lugacsi="../../luga-docs-footer.inc"></div>

</div>

</body>
</html>