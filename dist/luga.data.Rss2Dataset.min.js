/*! 
Luga Data - RSS 2.0 DataSet 0.5.0 2016-01-01T08:58:15.907Z
Copyright 2013-2016 Massimo Foti (massimo@massimocorner.com)
Licensed under the Apache License, Version 2.0 | http://www.apache.org/licenses/LICENSE-2.0
 */
if("undefined"==typeof luga.data)throw"Unable to find Luga Data";!function(){"use strict";luga.data.Rss2Dataset=function(options){luga.extend(luga.data.HttpDataSet,this,[options]);var self=this;this.dataType="text",this.rawXml=null,this.channelElements=["title","link","description","language","copyright","managingEditor","webMaster","pubDate","lastBuildDate","category","generator","docs","cloud","ttl","image","textInput","skipHours","skipDays"],this.itemElements=["title","link","description","author","category","comments","enclosure","guid","pubDate","source"],this.channelMeta={};var itemToHash=function(item){for(var rec={},i=0;i<self.itemElements.length;i++)rec[self.itemElements[i]]=jQuery(item).find(self.itemElements[i]).text();return rec},setChannelMeta=function($xml){for(var i=0;i<self.channelElements.length;i++)self.channelMeta[self.channelElements[i]]=$xml.find(self.channelElements[i]).text()};this.getContext=function(){var context={items:self.select(),recordCount:self.getRecordsCount()},stateDesc=luga.data.utils.assembleStateDescription(self.getState());return luga.merge(context,stateDesc),luga.merge(context,this.channelMeta),context},this.getRawXml=function(){return this.rawXml},this.loadRawXml=function(xmlStr){self["delete"](),self.loadRecords(xmlStr)},this.loadRecords=function(xmlStr,textStatus,jqXHR){self.rawXml=xmlStr;var $xml=jQuery(jQuery.parseXML(xmlStr));$xml.find("item").each(function(index,element){self.insert(itemToHash(jQuery(this)))}),setChannelMeta($xml)}},luga.data.Rss2Dataset.version="0.5.0"}();
//# sourceMappingURL=luga.data.Rss2Dataset.min.js.map
